{"remainingRequest":"/Users/zuber/Desktop/document/company/mobile_ts/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zuber/Desktop/document/company/mobile_ts/src/views/search/search_demand.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/Users/zuber/Desktop/document/company/mobile_ts/src/views/search/search_demand.vue","mtime":1541587671668},{"path":"/Users/zuber/Desktop/document/company/mobile_ts/node_modules/cache-loader/dist/cjs.js","mtime":1540785597449},{"path":"/Users/zuber/Desktop/document/company/mobile_ts/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/zuber/Desktop/document/company/mobile_ts/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/zuber/Desktop/document/company/mobile_ts/node_modules/cache-loader/dist/cjs.js","mtime":1540785597449},{"path":"/Users/zuber/Desktop/document/company/mobile_ts/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Watch, Prop } from 'vue-property-decorator';\nimport { State, Action } from 'vuex-class';\nimport { DemandModal } from '@/vuex/modules/search/search.model';\nimport DemandConditionLocate from '@/components/search/condition_locate.vue';\nimport DemandConditionGender from '@/components/search/demand_condition_gender.vue';\nimport DemandConditionMoney from '@/components/search/demand_condition_money.vue';\nimport DemandList from '@/components/search/demand_list.vue';\nimport PostRoom from '@/components/search/post_room.vue';\n\n@Component({\n  components: {\n    DemandConditionLocate,\n    DemandConditionGender,\n    DemandConditionMoney,\n    DemandList,\n    PostRoom,\n  },\n})\nexport default class SearchDemand extends Vue {\n  private refreshing: boolean = false;\n  private finished: boolean = false;\n  private loading: boolean = false;\n\n  @Prop({default: false}) private demandSearchByInput!: boolean;\n  @Prop({default: {}}) private changeDemandSearchInputPopup!: any;\n\n  @Prop({default: false}) private demandSearchByGender!: boolean;\n  @Prop({default: {}}) private changeDemandSearchGenderPopup!: any;\n\n  @Prop({default: false}) private demandSearchByMoney!: boolean;\n  @Prop({default: {}}) private changeDemandSearchMoneyPopup!: any;\n\n  @Prop({default: {}}) private demandCondition!: any;\n  @Prop({default: {}}) private changeDemandRegion!: any;\n  @Prop({default: {}}) private changeDemandGender!: any;\n  @Prop({default: {}}) private changeDemandMoney!: any;\n\n  @State((state: any) => state.LocateModule.current_city) private currentCity!: string;\n  @State((state: any) => state.SearchModule.demand_list) private demandList!: DemandModal[];\n  @State((state: any) => state.SearchModule.demand_sequence) private sequence!: boolean;\n  @State((state: any) => state.SearchModule.has_next_demand_page) private hasNextDemandPage!: boolean;\n\n  @Action('getDemandList') private getDemandList: any;\n\n  @Watch('hasNextRentPage') private change(): void {\n    this.finished = !this.hasNextDemandPage;\n  }\n  @Watch('$route') private changeRoute(): void {\n    this.requestCallback();\n  }\n\n  private onRefresh(): void {\n    this.requestCallback(() => {\n      this.refreshing = false;\n    });\n  }\n  private onLoad(): void {\n    this.requestCallback(() => {\n      this.loading = false;\n    });\n  }\n  // 刷新\n  private requestCallback(success?: any): void {\n    const data = {\n      city: this.currentCity,\n      sequence: this.sequence,\n      gender: this.demandCondition.gender,\n      cost1: this.demandCondition.money.min,\n      cost2: this.demandCondition.money.max,\n      longitude: this.demandCondition.location.lng === -1 ? '' : this.demandCondition.location.lng,\n      latitude: this.demandCondition.location.lat === -1 ? '' : this.demandCondition.location.lat,\n    };\n    this.getDemandList({\n      data,\n      success,\n    });\n  }\n}\n",{"version":3,"sources":["search_demand.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"search_demand.vue","sourceRoot":"src/views/search","sourcesContent":["<template>\n  <transition name=\"fade-right\" class=\"demand_wrap\">\n    <div v-show=\"$route.name === 'demand'\">\n      <div class=\"condition_wrap\">\n\n        <demand-condition-locate\n        :bool=\"demandSearchByInput\"\n        :show=\"changeDemandSearchInputPopup\"\n        :region=\"demandCondition.region\"\n        />\n\n        <demand-condition-gender\n        :bool=\"demandSearchByGender\"\n        :show=\"changeDemandSearchGenderPopup\"\n        :gender=\"demandCondition.gender\"\n        :change=\"changeDemandGender\"\n        :requestCallback=\"requestCallback\"\n        />\n\n        <demand-condition-money\n        :bool=\"demandSearchByMoney\"\n        :show=\"changeDemandSearchMoneyPopup\"\n        :money=\"demandCondition.money\"\n        :change=\"changeDemandMoney\"\n        :requestCallback=\"requestCallback\"\n        />\n\n      </div>\n      <div class=\"list_wrap\">\n        <van-pull-refresh v-model=\"refreshing\" @refresh=\"onRefresh\">\n          <van-list\n            v-model=\"loading\"\n            :finished=\"finished\"\n            @load=\"onLoad\"\n          >\n            <post-room />\n            <van-cell v-for=\"(item, i) in demandList\" :key=\"i\">\n              <DemandList :demandItem=\"item\" />\n            </van-cell>\n          </van-list>\n        </van-pull-refresh>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script lang=\"ts\">\nimport { Component, Vue, Watch, Prop } from 'vue-property-decorator';\nimport { State, Action } from 'vuex-class';\nimport { DemandModal } from '@/vuex/modules/search/search.model';\nimport DemandConditionLocate from '@/components/search/condition_locate.vue';\nimport DemandConditionGender from '@/components/search/demand_condition_gender.vue';\nimport DemandConditionMoney from '@/components/search/demand_condition_money.vue';\nimport DemandList from '@/components/search/demand_list.vue';\nimport PostRoom from '@/components/search/post_room.vue';\n\n@Component({\n  components: {\n    DemandConditionLocate,\n    DemandConditionGender,\n    DemandConditionMoney,\n    DemandList,\n    PostRoom,\n  },\n})\nexport default class SearchDemand extends Vue {\n  private refreshing: boolean = false;\n  private finished: boolean = false;\n  private loading: boolean = false;\n\n  @Prop({default: false}) private demandSearchByInput!: boolean;\n  @Prop({default: {}}) private changeDemandSearchInputPopup!: any;\n\n  @Prop({default: false}) private demandSearchByGender!: boolean;\n  @Prop({default: {}}) private changeDemandSearchGenderPopup!: any;\n\n  @Prop({default: false}) private demandSearchByMoney!: boolean;\n  @Prop({default: {}}) private changeDemandSearchMoneyPopup!: any;\n\n  @Prop({default: {}}) private demandCondition!: any;\n  @Prop({default: {}}) private changeDemandRegion!: any;\n  @Prop({default: {}}) private changeDemandGender!: any;\n  @Prop({default: {}}) private changeDemandMoney!: any;\n\n  @State((state: any) => state.LocateModule.current_city) private currentCity!: string;\n  @State((state: any) => state.SearchModule.demand_list) private demandList!: DemandModal[];\n  @State((state: any) => state.SearchModule.demand_sequence) private sequence!: boolean;\n  @State((state: any) => state.SearchModule.has_next_demand_page) private hasNextDemandPage!: boolean;\n\n  @Action('getDemandList') private getDemandList: any;\n\n  @Watch('hasNextRentPage') private change(): void {\n    this.finished = !this.hasNextDemandPage;\n  }\n  @Watch('$route') private changeRoute(): void {\n    this.requestCallback();\n  }\n\n  private onRefresh(): void {\n    this.requestCallback(() => {\n      this.refreshing = false;\n    });\n  }\n  private onLoad(): void {\n    this.requestCallback(() => {\n      this.loading = false;\n    });\n  }\n  // 刷新\n  private requestCallback(success?: any): void {\n    const data = {\n      city: this.currentCity,\n      sequence: this.sequence,\n      gender: this.demandCondition.gender,\n      cost1: this.demandCondition.money.min,\n      cost2: this.demandCondition.money.max,\n      longitude: this.demandCondition.location.lng === -1 ? '' : this.demandCondition.location.lng,\n      latitude: this.demandCondition.location.lat === -1 ? '' : this.demandCondition.location.lat,\n    };\n    this.getDemandList({\n      data,\n      success,\n    });\n  }\n}\n</script>\n\n<style lang=\"less\">\n.fade-right-enter-active, .fade-right-leave-active {\n  transition: .2s;\n}\n.fade-right-enter, .fade-right-leave-to {\n  transform: translate(100%);\n}\n.condition_wrap {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 20px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid #eee;\n  > div {\n    flex: 1;\n  }\n}\n.list_wrap {\n  width: 100%;\n  height: 95%;\n  overflow-y: scroll;\n  .van-pull-refresh {\n    height: 100%;\n    overflow-y: scroll;\n  }\n}\n</style>\n"]}]}